"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[183],{7183:function(e,s,t){t.r(s),t.d(s,{default:function(){return E}});var r=t(6252),a=t(3577);const d=e=>((0,r.dD)("data-v-16422ccb"),e=e(),(0,r.Cn)(),e),o={class:"container"},l={class:"row"},i={class:"mx-auto col-md-9 col-xl-7"},c={class:"card-body rounded-3 shadow px-5 py-3 lh-lg"},n=d((()=>(0,r._)("div",{class:"text-center"},[(0,r._)("span",{class:"material-icons-outlined text-primary shopping_bag"}," shopping_bag "),(0,r._)("h2",{class:"fw-bold fs-3"},"訂單資訊確認")],-1))),p={class:"order-detail border-top border-2 border-secondary pt-3 mt-3"},u={class:"accordion rounded-3 shadow mt-4",id:"accordionPanelsStayOpenExample"},h={class:"accordion-item"},b=d((()=>(0,r._)("div",{class:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#order-items","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," 訂購商品 ",-1))),_={id:"order-items",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},m={class:"text-start fw-bold fs-6"},w={class:"d-flex align-items-end"},y={class:"fw-bold"},f={class:"fw-bold fs-7 text-muted ms-2"},g={class:"order-form my-4"},v={class:"fw-bold py-1"},x={class:"fw-bold py-1"},$={class:"fw-bold py-1"},z={class:"fw-bold py-1"},k={class:"fw-bold py-1"},D={class:"fw-bold py-1"},O={class:"fw-bold py-1"},C=(0,r.Uk)(" 總金額："),S={class:"text-primary"},j={class:"btn d-flex justify-content-around"};function q(e,s,t,d,q,N){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",l,[(0,r._)("div",i,[(0,r._)("div",c,[n,(0,r._)("div",p,[(0,r._)("div",u,[(0,r._)("div",h,[b,(0,r._)("div",_,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(q.order.products,(s=>((0,r.wg)(),(0,r.iD)("div",{class:"accordion-body lh-lg border-top border-1 border-primary d-flex justify-content-between",key:s.id},[(0,r._)("div",null,[(0,r._)("h1",m,(0,a.zw)(s.product.title),1),(0,r._)("div",w,[(0,r._)("p",y," NT$ "+(0,a.zw)(e.$filters.currency(s.product.price*s.qty)),1),(0,r._)("del",f," NT$ "+(0,a.zw)(e.$filters.currency(s.product.origin_price*s.qty)),1)])]),(0,r._)("div",null,"x "+(0,a.zw)(s.qty)+" "+(0,a.zw)(s.product.unit),1)])))),128))])])]),(0,r._)("div",g,[(0,r._)("ul",null,[(0,r._)("li",v,"訂單編號："+(0,a.zw)(q.order.id),1),(0,r._)("li",x,"姓名："+(0,a.zw)(q.user.name),1),(0,r._)("li",$,"聯絡電話："+(0,a.zw)(q.user.tel)+'">',1),(0,r._)("li",z,"Email："+(0,a.zw)(q.user.email)+">",1),(0,r._)("li",k,"寄送地址："+(0,a.zw)(q.user.address),1),(0,r._)("li",D,"備註："+(0,a.zw)(q.order.message),1),(0,r._)("li",O,[C,(0,r._)("span",S,"NTD$ "+(0,a.zw)(q.order.total)+" 元",1)])])])]),(0,r._)("div",j,[(0,r._)("button",{type:"submit",class:"btn btn-primary text-white w-100 fs-5",onClick:s[0]||(s[0]=e=>N.getPay(q.order.id))}," 確認付款 ")])])])])])}var N={inject:["emitter"],data(){return{order:{},user:{},orderDate:"",orderID:""}},methods:{getOrder(e){console.log(this.$route),this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/utshang216/order/${e}`).then((e=>{this.order=e.data.order,this.user=e.data.order.user})).catch((e=>{this.$httpMessageState(e.response,e.response.data.message)}))},getPay(e){this.$http.post(`https://vue3-course-api.hexschool.io/v2/api/utshang216/pay/${e}`).then((()=>{this.emitter.emit("get-cart"),this.$router.push("/orderfinished")})).catch((e=>{this.emitter.emit("push-message",{style:"danger",title:e.response.data.message})}))}},mounted(){this.getOrder(this.$route.params.id)}},P=t(3744);const T=(0,P.Z)(N,[["render",q],["__scopeId","data-v-16422ccb"]]);var E=T}}]);
//# sourceMappingURL=183.e8cc19f2.js.map